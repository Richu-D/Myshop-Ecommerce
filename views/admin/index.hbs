{{>admin_header}}
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
   


            <!-- Sale & Revenue Start -->
            <div class="container-fluid pt-4 px-4">
                <div class="row g-4">
                    <div class="col-sm-6 col-xl-3">
                        <div class="bg-light rounded d-flex align-items-center p-4">
                            <i class="fa fa-chart-line fa-3x text-primary"></i>
                            <span class="ms-3">
                                <p class="mb-2">Today Orders</p>
                                <h6 class="mb-0" id="todayOrders">{{details.todayOrders.todaytotalOrders}}</h6>
                            </span>
                        </div>
                    </div>
                    <div class="col-sm-6 col-xl-3">
                        <div class="bg-light rounded d-flex align-items-center p-4">
                            <i class="fa fa-chart-bar fa-3x text-primary"></i>
                            <div class="ms-3">
                                <p class="mb-2">Total Orders</p>
                                <h6 class="mb-0">{{details.data.totalOrders}}</h6>
                            </div>
                        </div>
                    </div> 
                    <div class="col-sm-6 col-xl-3">
                        <div class="bg-light rounded d-flex align-items-center p-4">
                            <i class="fa fa-chart-area fa-3x text-primary"></i>
                            <div class="ms-3">
                                <p class="mb-2">Today sales</p>
                                <h6 class="mb-0">&#8377;<span id="todaySales">{{details.todayOrders.todaySales}}</span></h6>
                            </div>
                        </div>
                    </div>
                    <div class="col-sm-6 col-xl-3">
                        <div class="bg-light rounded d-flex align-items-center p-4">
                            <i class="fa fa-chart-pie fa-3x text-primary"></i>
                            <div class="ms-3">
                                <p class="mb-2">Total sales</p>
                                <h6 class="mb-0">&#8377;{{details.data.totalSale}}</h6>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <!-- Sale & Revenue End -->
             <!-- Sale & Revenue Start -->
            <div class="container-fluid pt-4 px-4">
                <div class="row g-4">
                    <div class="col-sm-6 col-xl-3">
                        <div class="bg-light rounded d-flex align-items-center p-4">
                            <i class="fa fa-chart-line fa-3x text-primary"></i>
                            <div class="ms-3">
                                <p class="mb-2">Today Delivered</p>
                                <h6 class="mb-0" id="todayDelivered">{{details.TodayrevenueAndDelevered.todaytotalOrders}}</h6>
                            </div>
                        </div>
                    </div>  
                    <div class="col-sm-6 col-xl-3">
                        <div class="bg-light rounded d-flex align-items-center p-4">
                            <i class="fa fa-chart-bar fa-3x text-primary"></i>
                            <div class="ms-3">
                                <p class="mb-2">Total delivered</p>
                                <h6 class="mb-0">{{details.deliveredTotalSale.totalDelivered}}</h6>
                            </div>
                        </div>
                    </div> 
                    <div class="col-sm-6 col-xl-3">
                        <div class="bg-light rounded d-flex align-items-center p-4">
                            <i class="fa fa-chart-area fa-3x text-primary"></i>
                            <div class="ms-3">
                                <p class="mb-2">Today Revenue</p>
                                <h6 class="mb-0">&#8377; <span id="todayRevenue">{{details.TodayrevenueAndDelevered.todayRevenue}}</span></h6>
                            </div>
                        </div>
                    </div>
                    <div class="col-sm-6 col-xl-3">
                        <div class="bg-light rounded d-flex align-items-center p-4">
                            <i class="fa fa-chart-pie fa-3x text-primary"></i>
                            <div class="ms-3">
                                <p class="mb-2">Total Revenue</p>
                                <h6 class="mb-0">&#8377;{{details.deliveredTotalSale.totalRevenue}}</h6>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <!-- Sale & Revenue End -->

            <!-- Sales Chart Start -->
            <div class="container-fluid pt-4 px-4">
                <div class="row g-4">
                    {{!-- <div class="col-sm-12 col-xl-6">
                        <div class="bg-light text-center rounded p-4">
                            <div class="d-flex align-items-center justify-content-between mb-4">
                                <h6 class="mb-0">Daily Sales</h6>
                            </div>
                            <canvas id="dailysales"></canvas>
                        </div>
                    </div> --}}
                    <div class="col-sm-12">
                        <div class="bg-light text-center rounded p-4 col-sm-8 mx-auto">
                            <div class="d-flex align-items-center justify-content-between mb-4">
                                <h6 class="mb-0">Weekly Sales</h6>
                            </div>
                            <canvas id="weeklysales"></canvas>
                        </div>
                    </div>
                    <div class="col-sm-12 col-xl-6">
                        <div class="bg-light text-center rounded p-4">
                            <div class="d-flex align-items-center justify-content-between mb-4">
                                <h6 class="mb-0">Monthly Sales</h6>
                            </div>
                            <canvas id="monthlysales"></canvas>
                        </div>
                    </div>
                    <div class="col-sm-12 col-xl-6">
                        <div class="bg-light text-center rounded p-4">
                            <div class="d-flex align-items-center justify-content-between mb-4">
                                <h6 class="mb-0">Yearly Sales</h6>
                            </div>
                            <canvas id="yearlySales"></canvas>
                        </div>
                    </div>
                </div>
            </div>
            <!-- Sales Chart End -->


            {{!-- <!-- Recent Sales Start -->
            <div class="container-fluid pt-4 px-4">
                <div class="bg-light text-center rounded p-4">
                    <div class="d-flex align-items-center justify-content-between mb-4">
                        <h6 class="mb-0">Recent Salse</h6>
                        <a href="">Show All</a>
                    </div>
                    <div class="table-responsive">
                        <table class="table text-start align-middle table-bordered table-hover mb-0">
                            <thead>
                                <tr class="text-dark">
                                    <th scope="col"><input class="form-check-input" type="checkbox"></th>
                                    <th scope="col">Date</th>
                                    <th scope="col">Invoice</th>
                                    <th scope="col">Customer</th>
                                    <th scope="col">Amount</th>
                                    <th scope="col">Status</th>
                                    <th scope="col">Action</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td><input class="form-check-input" type="checkbox"></td>
                                    <td>01 Jan 2045</td>
                                    <td>INV-0123</td>
                                    <td>Jhon Doe</td>
                                    <td>$123</td>
                                    <td>Paid</td>
                                    <td><a class="btn btn-sm btn-primary" href="">Detail</a></td>
                                </tr>
                                <tr>
                                    <td><input class="form-check-input" type="checkbox"></td>
                                    <td>01 Jan 2045</td>
                                    <td>INV-0123</td>
                                    <td>Jhon Doe</td>
                                    <td>$123</td>
                                    <td>Paid</td>
                                    <td><a class="btn btn-sm btn-primary" href="">Detail</a></td>
                                </tr>
                                <tr>
                                    <td><input class="form-check-input" type="checkbox"></td>
                                    <td>01 Jan 2045</td>
                                    <td>INV-0123</td>
                                    <td>Jhon Doe</td>
                                    <td>$123</td>
                                    <td>Paid</td>
                                    <td><a class="btn btn-sm btn-primary" href="">Detail</a></td>
                                </tr>
                                <tr>
                                    <td><input class="form-check-input" type="checkbox"></td>
                                    <td>01 Jan 2045</td>
                                    <td>INV-0123</td>
                                    <td>Jhon Doe</td>
                                    <td>$123</td>
                                    <td>Paid</td>
                                    <td><a class="btn btn-sm btn-primary" href="">Detail</a></td>
                                </tr>
                                <tr>
                                    <td><input class="form-check-input" type="checkbox"></td>
                                    <td>01 Jan 2045</td>
                                    <td>INV-0123</td>
                                    <td>Jhon Doe</td>
                                    <td>$123</td>
                                    <td>Paid</td>
                                    <td><a class="btn btn-sm btn-primary" href="">Detail</a></td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
            <!-- Recent Sales End -->


            <!-- Widgets Start -->
            <div class="container-fluid pt-4 px-4">
                <div class="row g-4">
                    <div class="col-sm-12 col-md-6 col-xl-4">
                        <div class="h-100 bg-light rounded p-4">
                            <div class="d-flex align-items-center justify-content-between mb-2">
                                <h6 class="mb-0">Messages</h6>
                                <a href="">Show All</a>
                            </div>
                            <div class="d-flex align-items-center border-bottom py-3">
                                <img class="rounded-circle flex-shrink-0" src="img/user.jpg" alt="" style="width: 40px; height: 40px;">
                                <div class="w-100 ms-3">
                                    <div class="d-flex w-100 justify-content-between">
                                        <h6 class="mb-0">Jhon Doe</h6>
                                        <small>15 minutes ago</small>
                                    </div>
                                    <span>Short message goes here...</span>
                                </div>
                            </div>
                            <div class="d-flex align-items-center border-bottom py-3">
                                <img class="rounded-circle flex-shrink-0" src="img/user.jpg" alt="" style="width: 40px; height: 40px;">
                                <div class="w-100 ms-3">
                                    <div class="d-flex w-100 justify-content-between">
                                        <h6 class="mb-0">Jhon Doe</h6>
                                        <small>15 minutes ago</small>
                                    </div>
                                    <span>Short message goes here...</span>
                                </div>
                            </div>
                            <div class="d-flex align-items-center border-bottom py-3">
                                <img class="rounded-circle flex-shrink-0" src="img/user.jpg" alt="" style="width: 40px; height: 40px;">
                                <div class="w-100 ms-3">
                                    <div class="d-flex w-100 justify-content-between">
                                        <h6 class="mb-0">Jhon Doe</h6>
                                        <small>15 minutes ago</small>
                                    </div>
                                    <span>Short message goes here...</span>
                                </div>
                            </div>
                            <div class="d-flex align-items-center pt-3">
                                <img class="rounded-circle flex-shrink-0" src="img/user.jpg" alt="" style="width: 40px; height: 40px;">
                                <div class="w-100 ms-3">
                                    <div class="d-flex w-100 justify-content-between">
                                        <h6 class="mb-0">Jhon Doe</h6>
                                        <small>15 minutes ago</small>
                                    </div>
                                    <span>Short message goes here...</span>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-sm-12 col-md-6 col-xl-4">
                        <div class="h-100 bg-light rounded p-4">
                            <div class="d-flex align-items-center justify-content-between mb-4">
                                <h6 class="mb-0">Calender</h6>
                                <a href="">Show All</a>
                            </div>
                            <div id="calender"></div>
                        </div>
                    </div>
                    <div class="col-sm-12 col-md-6 col-xl-4">
                        <div class="h-100 bg-light rounded p-4">
                            <div class="d-flex align-items-center justify-content-between mb-4">
                                <h6 class="mb-0">To Do List</h6>
                                <a href="">Show All</a>
                            </div>
                            <div class="d-flex mb-2">
                                <input class="form-control bg-transparent" type="text" placeholder="Enter task">
                                <button type="button" class="btn btn-primary ms-2">Add</button>
                            </div>
                            <div class="d-flex align-items-center border-bottom py-2">
                                <input class="form-check-input m-0" type="checkbox">
                                <div class="w-100 ms-3">
                                    <div class="d-flex w-100 align-items-center justify-content-between">
                                        <span>Short task goes here...</span>
                                        <button class="btn btn-sm"><i class="fa fa-times"></i></button>
                                    </div>
                                </div>
                            </div>
                            <div class="d-flex align-items-center border-bottom py-2">
                                <input class="form-check-input m-0" type="checkbox">
                                <div class="w-100 ms-3">
                                    <div class="d-flex w-100 align-items-center justify-content-between">
                                        <span>Short task goes here...</span>
                                        <button class="btn btn-sm"><i class="fa fa-times"></i></button>
                                    </div>
                                </div>
                            </div>
                            <div class="d-flex align-items-center border-bottom py-2">
                                <input class="form-check-input m-0" type="checkbox" checked>
                                <div class="w-100 ms-3">
                                    <div class="d-flex w-100 align-items-center justify-content-between">
                                        <span><del>Short task goes here...</del></span>
                                        <button class="btn btn-sm text-primary"><i class="fa fa-times"></i></button>
                                    </div>
                                </div>
                            </div>
                            <div class="d-flex align-items-center border-bottom py-2">
                                <input class="form-check-input m-0" type="checkbox">
                                <div class="w-100 ms-3">
                                    <div class="d-flex w-100 align-items-center justify-content-between">
                                        <span>Short task goes here...</span>
                                        <button class="btn btn-sm"><i class="fa fa-times"></i></button>
                                    </div>
                                </div>
                            </div>
                            <div class="d-flex align-items-center pt-2">
                                <input class="form-check-input m-0" type="checkbox">
                                <div class="w-100 ms-3">
                                    <div class="d-flex w-100 align-items-center justify-content-between">
                                        <span>Short task goes here...</span>
                                        <button class="btn btn-sm"><i class="fa fa-times"></i></button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <!-- Widgets End --> --}}

        
        {{!-- weekly sales --}}
     <script>
       let  weekly = [0,0,0,0,0,0,0]
       let yearName = []
       let  yearly = []
       let weekName = ["Sunday","Monday","Tuesday","WednesDay","Thursday","Friday","Saturday"]
       let monthName = ["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]
       let monthlyProfit = [0,0,0,0,0,0,0,0,0,0,0,0]




      $.ajax({
      type: "post",
      url: "/admin/graphdata",  
      success: (data)=>{
            for(i=0;i<data.data.weeklySales.length;++i){


                
                switch(data.data.weeklySales[i].date){
                    
                    case 1: 
                            weekly[0] = data.data.weeklySales[i].total
                            break;

                    case 2: 
                            weekly[1] = data.data.weeklySales[i].total
                            break;

                    case 3: 
                            weekly[2] = data.data.weeklySales[i].total
                            break;

                    case 4: 
                            weekly[3] = data.data.weeklySales[i].total
                            break;

                    case 5:
                            weekly[4] = data.data.weeklySales[i].total
                            break;

                    case 6: 
                            weekly[5] = data.data.weeklySales[i].total
                            break;

                    case 7: weekly[6] = data.data.weeklySales[i].total
                            break;
                }

            }


            for(i=0;i<data.data.monthlySales.length;++i){


                
                switch(data.data.monthlySales[i].month){                    

                    case 1: 
                            monthlyProfit[0] = data.data.monthlySales[i].total
                            break;

                    case 2: 
                            monthlyProfit[1] = data.data.monthlySales[i].total
                            break;

                    case 3: 
                            monthlyProfit[2] = data.data.monthlySales[i].total
                            break;

                    case 4: 
                            monthlyProfit[3] = data.data.monthlySales[i].total
                            break;

                    case 5:
                            monthlyProfit[4] = data.data.monthlySales[i].total
                            break;

                    case 6: 
                            monthlyProfit[5] = data.data.monthlySales[i].total
                            break;

                    case 7: 
                            monthlyProfit[6] = data.data.monthlySales[i].total
                            break;

                    case 8: 
                            monthlyProfit[7] = data.data.monthlySales[i].total
                            break;

                    case 9: 
                            monthlyProfit[8] = data.data.monthlySales[i].total
                            break;

                    case 10: 
                            monthlyProfit[9] = data.data.monthlySales[i].total
                            break;

                    case 11:
                            monthlyProfit[10] = data.data.monthlySales[i].total
                            break;

                    case 12: 
                            monthlyProfit[11] = data.data.monthlySales[i].total
                            break;


                }

            }
            for(i=0;i<data.data.yearlySales.length;++i){

                 yearName.push(data.data.yearlySales[i].year)                     
                 yearly.push(data.data.yearlySales[i].total)                     

                }
















            const yearlysales = new Chart(
            document.getElementById('yearlySales'),
            yearlyconfig
            );

            const weeklysales = new Chart(
            document.getElementById('weeklysales'),
            config
            );

            const monthlysales = new Chart(
            document.getElementById('monthlysales'),
            yeralyconfig
    );
      }
});

//weekly sales
        const labels = weekName;
      
        const data = {
          labels: labels,
          datasets: [{
            label: 'Weekly sales',
            backgroundColor: 'green',
            borderColor: 'green',
            data: weekly,
          }]
        };
      
        const config = {
          type: 'line',
          data: data,
          options: {}
        };



//monthly Sales

        const months = monthName;
      
        const data1 = {
          labels: months,
          datasets: [{
            label: 'Monthly sales',
            backgroundColor: "blue",
            borderColor: 'rgb(255, 99, 132)',
            data: monthlyProfit,
          }]
        };
      
        const yeralyconfig = {
          type: 'bar',
          data: data1,
          options: {}
        };

//yearly sales
        const yearlyLabel = yearName;
      
        const data2 = {
          labels: yearlyLabel,
          datasets: [{
            label: 'Yearly sales',
            backgroundColor: 'yellow',
            borderColor: 'yellow',
            data: yearly,
          }]
        };
      
        const yearlyconfig = {
          type: 'bar',
          data: data2,
          options: {}
        };



      </script>

 <script>
    
       let todayDelivered = document.getElementById('todayDelivered');
       let todayOrders = document.getElementById('todayOrders');
       let todaySales = document.getElementById('todaySales');
       let todayRevenue = document.getElementById('todayRevenue');
       
       if(todayDelivered.innerText==""){
        todayDelivered.innerText = "0"
       }
       if(todayOrders.innerText==""){
        todayOrders.innerHTML = "0"
       }
       if(todaySales.innerText==""){
        todaySales.innerHTML = "0"
       }
       if(todayRevenue.innerText==""){
        todayRevenue.innerHTML = "0"
       }
    </script>
  



{{>admin_footer}}

</body>

</html>